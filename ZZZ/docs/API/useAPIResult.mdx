---
id: provider
title: API Providers
sidebar_label: Providers
---

## [createAPIContext](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L34)

Function to set a react context to access variables and props specific to your API.

### Props:

> -

## [APIContext](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L44)

Function call for `createAPIContext`.

## [APIProvider](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L149)

Parent component that applies API Context to all of it's children

### Props:

> - _**children**_ : _react components_ | child components that use API Context
> - _**context**_ : _react context_ | API Context to be passed
> - _**...rest**_ : _{}_ | other context values

## [APIActions](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L109)

Two functions for handling `GET` and `POST` requests for a specific APIContext.

### Props:

> - _**ctx**_ : _react context_ | API Context

### Functions:

> - _**post**_ : function for a `POST` http request
>   - _**route**_: _string_ | API route
>   - _**params**_ : _{}_ | Object of params for API query
>   - _**payload**_: _any_ |
>   - _**opts**_: _APIOptions_ |
> - _**get**_ : function for a `GET` http request
>   - _**route**_: _string_ | API route
>   - _**params**_ : _{}_ | Object of params for API query
>   - _**opts**_: _APIOptions_ |

## [APIHelpers](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L72)

Two functions for helping with API query building and data unwrapping based on the API Context passed

### Props:

> - _**ctx**_: _react context_ | API Context

### Functions:

> - _**buildURL**_ : function to build a API url based on context
>   - _**route**_: _string_ | route string for url
>   - _**params**_: _{}_ | query params to be built onto route string
> - _**processOptions**_ : function for processing optional functions passed not specified in ctx, like a unwrapdata function.
>   - _**opts**_: _{}_ | functions

## [useAPIActions()](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L159)

Custom react hook for accessing functions from `APIActions` using a context.

### Props:

> - _**ctx**_: _react context_ | Context to be used for functions, defaults to APIContext.

Examples:

```jsx
const { get, post } = useAPIActions();
```

## [useAPIHelpers()](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L163)

Custom react hook for accessing functions from `APIHelpers` using a context.

### Props:

> - _**ctx**_: _react context_ | Context to be used for functions, defaults to APIContext.

Examples:

```jsx
const { buildURL, processOptions } = useAPIHelpers();
```

## [useAPIResult()](https://github.com/UW-Macrostrat/ui-components/blob/72fcba180bbbdac2884e3a50bd84b97e680c7884/src/api/provider.ts#L174)

Custom react hook to fetch data from an API, returns data object from API get request.

### Props:

> - _**route**_: _string_ | route to call the get request to.
> - _**params**_: _{}_ | Query params to query API.
> - _**options**_: _{}_ | APIHooksOpts, Function to unwrap data

Examples:

```jsx
function Map(props) {
  const sampleMarkers = useAPIResult(
    "/api/sample",
    { has: "location" },
    (data) => {
      data.location.coordinates;
    }
  );
  return h(Map, { markers: sampleMarkers });
}
```
